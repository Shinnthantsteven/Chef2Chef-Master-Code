<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=0.1">
    <title>Chef2Chef | Master Code Engine</title>

    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/Shinnthantsteven/Chef2Chef-Master-Code/main/logo.png">
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --brand: #10b981;
            --bg-color: #020617;
            --text: #f1f5f9;
            --header-bg: #010409;
            --glass-edge: rgba(255, 255, 255, 0.1);
            --danger: #ef4444;
            --portal-bg: rgba(15, 23, 42, 0.6);
            --input-bg: rgba(0,0,0,0.3);
            --hl: #fbbf24;
        }

        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg-color);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
        }

        mark {
            background: var(--hl);
            color: #000;
            border-radius: 4px;
            padding: 0 4px;
        }

        /* HEADER */
        .top-nav {
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--header-bg);
            border-bottom: 1px solid var(--glass-edge);
        }

        .logo-text {
            font-weight: 800;
            font-size: 26px;
        }

        /* TABLE */
        .content-container {
            flex: 1;
            overflow-y: auto;
            padding: 0 40px 180px 40px;
            height: calc(100vh - 80px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }

        th {
            position: sticky;
            top: 0;
            background: #ffffff;
            color: #000000;
            padding: 25px 15px;
            font-size: 11px;
            text-transform: uppercase;
            border-bottom: 2px solid var(--brand);
        }

        td {
            padding: 22px 15px;
            border-bottom: 1px solid #e5e7eb;
            font-size: 14px;
            cursor: pointer;
            vertical-align: middle;
            background: #ffffff;
            color: #000000;
        }

        .desc-cell {
            font-weight: 800;
            line-height: 1.6;
            background: #ffffff;
            color: #000000;
        }

        .brand-pill {
            background: #e5e7eb;
            color: #000000;
            padding: 6px 12px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 12px;
            display: inline-block;
        }

        .origin-pill {
            background: #dcfce7;
            color: #000000;
            padding: 6px 12px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 12px;
            margin-left: 5px;
            display: inline-block;
        }

        /* SEARCH */
        .footer-controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            width: 85%;
            max-width: 1100px;
        }

        .portal-bar {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            border-radius: 100px;
            background: #ffffff;
            border: 1px solid #e5e7eb;
        }

        #searchIn {
            background: #ffffff;
            border: none;
            color: #000000;
            font-size: 24px;
            font-weight: 700;
            outline: none;
            flex: 1;
        }

        #searchIn::placeholder {
            color: #6b7280;
        }

        #resetBtn {
            background: var(--danger);
            border: none;
            color: white;
            padding: 18px 35px;
            border-radius: 50px;
            font-weight: 800;
            cursor: pointer;
        }

        #syncStatus {
            font-weight: 700;
            font-size: 14px;
            color: #000000;
        }
    </style>
</head>

<body>

<nav class="top-nav">
    <div class="logo-text">CHEF2CHEF <span style="color:var(--brand)">MASTER</span></div>
</nav>

<div class="content-container">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Description</th>
                <th>Cost</th>
                <th>U/M</th>
                <th>Packing</th>
                <th>Supplier</th>
                <th>Brand / Origin</th>
                <th>Part No.</th>
            </tr>
        </thead>
        <tbody id="list"></tbody>
    </table>
</div>

<div class="footer-controls">
    <div class="portal-bar">
        <input type="text" id="searchIn" placeholder="Search Master Records...">
        <span id="syncStatus">Sync: 0</span>
    </div>
    <button id="resetBtn" onclick="resetSearch()">RESET</button>
</div>

<script>
    let db = [];
    let currentSearch = "";

    document.getElementById('searchIn').addEventListener('input', e => {
        currentSearch = e.target.value.toLowerCase().trim();
        const filtered = db.filter(r =>
            Object.values(r).join(' ').toLowerCase().includes(currentSearch)
        );
        render(filtered);
        document.getElementById('syncStatus').innerText = `Sync: ${filtered.length}`;
    });

    function render(data) {
        document.getElementById('list').innerHTML = data.map(r => `
            <tr>
                <td>${r.id || ''}</td>
                <td><div class="desc-cell">${r.desc || ''}</div></td>
                <td>${r.cost || ''}</td>
                <td>${r.um || ''}</td>
                <td>${r.pack || ''}</td>
                <td>${r.sup || ''}</td>
                <td>
                    <span class="brand-pill">${r.brand || ''}</span>
                    <span class="origin-pill">${r.origin || ''}</span>
                </td>
                <td>${r.part || ''}</td>
            </tr>
        `).join('');
    }

    function resetSearch() {
        searchIn.value = '';
        render(db);
        syncStatus.innerText = `Sync: ${db.length}`;
    }
</script>

</body>
</html>
