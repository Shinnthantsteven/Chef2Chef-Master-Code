<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chef2Chef | Master Code</title>

<script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
/* ===== VARIABLES ===== */
:root{
--brand:#10b981;
--bg:#020617;
--text:#f1f5f9;
--glass:rgba(255,255,255,.15);
--danger:#ef4444;
}

/* ===== BASE ===== */
html,body{
margin:0;
height:100%;
font-family:'Plus Jakarta Sans',sans-serif;
background:var(--bg);
color:var(--text);
overflow:hidden;
}

/* ===== HIGHLIGHT ===== */
mark{
background:linear-gradient(120deg,#fbbf24,#fde68a);
padding:0 4px;
border-radius:4px;
box-shadow:0 0 10px rgba(251,191,36,.6);
}

/* ===== LOGIN ===== */
#loginScreen{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
background:var(--bg);
z-index:2000;
}

.knife-box{
font-size:80px;
margin-bottom:20px;
filter:drop-shadow(0 0 20px var(--brand));
transition:.5s;
}

.knife-slice{
transform:scale(15) translateX(100px);
opacity:0;
}

.login-card{
width:420px;
padding:50px;
border-radius:40px;
background:rgba(255,255,255,.08);
backdrop-filter:blur(25px);
border:1px solid var(--glass);
box-shadow:0 20px 60px rgba(0,0,0,.4);
text-align:center;
}

.login-card input{
width:100%;
padding:18px;
margin-top:20px;
border-radius:30px;
border:1px solid var(--glass);
background:rgba(255,255,255,.12);
color:white;
font-size:20px;
text-align:center;
outline:none;
}

.unlock-btn{
width:100%;
padding:18px;
margin-top:20px;
border-radius:40px;
border:none;
background:linear-gradient(145deg,#10b981,#3b82f6);
font-weight:800;
color:white;
cursor:pointer;
}

/* ===== NAV ===== */
.top-nav{
height:70px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 40px;
border-bottom:1px solid var(--glass);
}

.logo-container{
display:flex;
align-items:center;
gap:12px;
text-decoration:none;
color:inherit;
}

.logo-img{height:42px}

/* ===== CONTENT ===== */
.content-container{
height:calc(100vh - 70px);
overflow:auto;
padding:40px;
padding-bottom:160px;
}

table{
width:100%;
border-collapse:collapse;
}

th{
position:sticky;
top:0;
background:var(--bg);
padding:16px;
font-size:11px;
color:#94a3b8;
border-bottom:2px solid var(--brand);
}

td{
padding:18px;
border-bottom:1px solid var(--glass);
cursor:pointer;
font-size:14px;
}

/* ===== SEARCH BAR ===== */
.portal-bar{
position:fixed;
bottom:25px;
left:50%;
transform:translateX(-50%);
width:85%;
max-width:1100px;
padding:18px 40px;
border-radius:100px;
background:rgba(255,255,255,.08);
backdrop-filter:blur(30px);
display:flex;
gap:20px;
align-items:center;
border:1px solid var(--glass);
}

#searchIn{
flex:1;
border:none;
background:transparent;
font-size:22px;
font-weight:700;
color:white;
outline:none;
}

/* ===== TOAST ===== */
#toast{
position:fixed;
bottom:120px;
left:50%;
transform:translateX(-50%);
background:var(--brand);
padding:10px 30px;
border-radius:40px;
font-weight:800;
display:none;
}
</style>
</head>

<body onload="document.getElementById('passIn').focus()">

<div id="loginScreen">
<div id="knife" class="knife-box">üî™</div>
<div class="login-card">
<h1>CHEF2CHEF ITEM CODE</h1>
<input id="passIn" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
<button class="unlock-btn" onclick="checkAuth()">UNLOCK</button>
<p id="err" style="color:var(--danger);font-size:12px"></p>
</div>
</div>

<div id="toast">COPIED</div>

<nav class="top-nav">
<a class="logo-container" href="https://chef2chef.ae" target="_blank">
<img src="logo.png" class="logo-img">
<strong>CHEF2CHEF <span style="color:var(--brand)">MASTER</span></strong>
</a>
</nav>

<div class="content-container">
<table>
<thead>
<tr>
<th>ID</th>
<th>Description</th>
<th>Cost</th>
<th>U/M</th>
<th>Packing</th>
<th>Supplier</th>
<th>Brand</th>
<th>Part No.</th>
</tr>
</thead>
<tbody id="list" onclick="copyCell(event)"></tbody>
</table>
</div>

<div class="portal-bar">
<input type="file" id="fileIn" hidden onchange="manualUpload(event)">
<button onclick="fileIn.click()">üìÅ</button>
<input id="searchIn" placeholder="Search everything‚Ä¶">
<button onclick="location.reload()">EXIT</button>
</div>

<script>
let db=[],currentSearch="";

function checkAuth(){
if(passIn.value==="C2C2026"){
knife.classList.add("knife-slice");
setTimeout(()=>{
loginScreen.style.display="none";
loadCSV();
},400);
}else err.innerText="DENIED";
}

async function loadCSV(){
const r=await fetch("data.csv?"+Date.now());
process(await r.text());
}

function manualUpload(e){
const fr=new FileReader();
fr.onload=ev=>process(ev.target.result);
fr.readAsText(e.target.files[0]);
}

function process(csv){
const wb=XLSX.read(csv,{type:"string"});
const rows=XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]]);
db=rows.map(r=>({
id:r.Item||"",
desc:r.Description||"",
cost:r.Cost||"",
um:r["U/M"]||"",
pack:r.Packing||"",
sup:r.Supplier||"",
brand:r.Brand||"",
part:r["Part No."]||""
}));
render(db);
}

function highlight(t){
if(!currentSearch)return t;
return t.replace(new RegExp(`(${currentSearch})`,"gi"),"<mark>$1</mark>");
}

searchIn.oninput=e=>{
currentSearch=e.target.value.toLowerCase();
render(db.filter(r=>
Object.values(r).join(" ").toLowerCase().includes(currentSearch)
));
};

function render(data){
list.innerHTML=data.slice(0,200).map(r=>`
<tr>
<td>${highlight(r.id)}</td>
<td>${highlight(r.desc)}</td>
<td>${r.cost}</td>
<td>${r.um}</td>
<td>${r.pack}</td>
<td>${r.sup}</td>
<td>${r.brand}</td>
<td>${r.part}</td>
</tr>`).join("");
}

function copyCell(e){
const td=e.target.closest("td");
if(!td)return;
navigator.clipboard.writeText(td.innerText);
toast.style.display="block";
setTimeout(()=>toast.style.display="none",600);
}
</script>
</body>
</html>
